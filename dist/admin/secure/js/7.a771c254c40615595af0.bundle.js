(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{165:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f}));var r=n(161);const o="@media (max-width: ".concat(575,"px)"),a="@media (min-width: ".concat(768,"px) and (max-width: ").concat(991,"px)"),i="@media (min-width: ".concat(991,"px) and (max-width: ").concat(1199,"px)"),c="@media (min-width: ".concat(1199,"px)"),s="@media (min-width: ".concat(768,"px)"),l="@media (min-width: ".concat(991,"px)"),u="@media (max-width: ".concat(768,"px)"),d="@media (max-width: ".concat(991,"px)"),p="@media (max-width: ".concat(1199,"px)");var b=Object.freeze({__proto__:null,smOnly:o,mdOnly:a,lgOnly:i,xlOnly:c,mdUp:s,lgUp:l,mdDown:u,lgDown:d,xlDown:p});const f={appearance:"none",background:"none",border:"1px solid transparent",borderRadius:r.a,boxSizing:"border-box",fontFamily:"inherit",fontSize:"1.0rem",lineHeight:"1.2rem",margin:0,minWidth:1,padding:"".concat(r.c,"px ").concat(1.5*r.c,"px"),transition:"box-shadow 100ms linear",verticalAlign:"middle",whiteSpace:"nowrap"}},167:function(e,t,n){e.exports=n(176)()},168:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c,s=(c=function(e,t){"auto"===t&&(t=e.target&&e.target.nodeName&&"A"===e.target.nodeName?"enter":"both");var n=[];return"space"!==t&&"both"!==t||n.push(32),"enter"!==t&&"both"!==t||n.push(13),n.includes(e.which)},function(){return!c.apply(void 0,arguments)}),l=function(){return Boolean("undefined"!=typeof window&&"ontouchstart"in window||"undefined"!=typeof navigator&&navigator.maxTouchPoints)},u=function(e){function t(){var e,n,r;a(this,t);for(var o=arguments.length,c=Array(o),u=0;u<o;u++)c[u]=arguments[u];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.isTouchDevice=l(),r.tabIsDown=!1,r.state={focusOrigin:null,isActive:!1,isFocus:!1,isHover:!1},r.keydown=function(e){9===e.which&&(r.tabIsDown=!0)},r.keyup=function(e){9===e.which&&(r.tabIsDown=!1)},r.handleBlur=function(){r.setState({isFocus:!1,focusOrigin:null})},r.handleFocus=function(){var e=r.tabIsDown?"keyboard":"mouse";r.setState({isFocus:!0,focusOrigin:e})},r.handleMouseLeave=function(){r.setState({isActive:!1,isHover:!1})},r.handleMouseEnter=function(){r.isTouchDevice||r.setState({isHover:!0})},r.handleMouseUp=function(){r.isTouchDevice||r.setState({isActive:!1})},r.handleMouseDown=function(){r.isTouchDevice||r.setState({isActive:!0})},r.handleKeyDown=function(e){s(e,r.props.keyboardSupport)||r.setState({isActive:!0})},r.handleKeyUp=function(e){s(e,r.props.keyboardSupport)||r.setState({isActive:!1})},r.handleTouchStart=function(){r.setState({isActive:!0})},r.handleTouchEnd=function(){r.setState({isActive:!1})},i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.keydown),window.removeEventListener("keyup",this.keyup)}},{key:"render",value:function(){var e=this.state,t={onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:void 0,onKeyUp:void 0,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchStart:this.handleTouchStart};return"none"!==this.props.keyboardSupport&&(t.onKeyDown=this.handleKeyDown,t.onKeyUp=this.handleKeyUp),this.props.children(t,e)}}]),t}(o.Component);u.defaultProps={keyboardSupport:"auto"},t.default=u},174:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n(0),o=n.n(r),a=n(162),i=n(163),c=n(160),s=n(159),l=n(165),u=n(161);const d=e=>{let{innerRef:t}=e,n=Object(i.a)(e,["innerRef"]);return Object(c.d)("input",Object(a.a)({ref:t,tabIndex:"-1",css:{border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1}},n))};Object(r.memo)((function(){return o.a.createElement(r.Fragment,null,o.a.createElement(d,{autoComplete:"username",type:"text",tabIndex:-1}),o.a.createElement(d,{autoComplete:"email",type:"text",tabIndex:-1}),o.a.createElement(d,{autoComplete:"current-password",type:"password",tabIndex:-1}),o.a.createElement(d,{autoComplete:"new-password",type:"password",tabIndex:-1}))}),()=>!0);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b({},l.b,{backgroundColor:e.disabled?u.b.N10:"white",borderColor:u.b.N20,color:"inherit",width:"100%",":hover":{borderColor:u.b.N30,outline:0},":focus":{borderColor:u.b.primary,outline:0},"&[disabled]":{borderColor:u.b.N15,backgroundColor:u.b.N05}},e.isMultiline?{lineHeight:"inherit",minHeight:100,resize:"vertical",whiteSpace:"wrap"}:void 0)},h=Object(r.forwardRef)((e,t)=>{const{isMultiline:n}=e,r=Object(i.a)(e,["isMultiline"]),o=n?"textarea":"input";return Object(c.d)(o,Object(a.a)({ref:t,css:f(e)},r))})},176:function(e,t,n){"use strict";var r=n(177);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},177:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(179);Object.defineProperty(t,"withPseudoState",{enumerable:!0,get:function(){return a(r).default}});var o=n(170);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"PseudoState",{enumerable:!0,get:function(){return a(o).default}})},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return(0,o.forwardRef)((function(t,n){var o=t.keyboardSupport,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["keyboardSupport"]);return a.default.createElement(i.default,{keyboardSupport:o},(function(t,o){return a.default.createElement(e,r({ref:n},c,t,o))}))}))};var o=n(0),a=c(o),i=c(n(170));function c(e){return e&&e.__esModule?e:{default:e}}},181:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(159);var r=n(162),o=n(163),a=n(160),i=n(164),c=n(161);i.a.span({color:c.b.N60}),i.a.h1({fontSize:28,fontWeight:300,margin:"24px 0"}),i.a.h1({fontSize:"2.4rem",fontWeight:900,marginBottom:"0.5em",marginTop:"1.0rem"}),i.a.kbd({backgroundColor:c.b.N05,border:"1px solid ".concat(c.b.N20),borderRadius:3,boxShadow:"0 1px 1px rgba(0, 0, 0, 0.12), 0 2px 0 0 rgba(255, 255, 255, 0.7) inset",display:"inline-block",fontFamily:"Monaco, monospace",fontSize:"0.85em",fontWeight:"bold",lineHeight:"inherit",padding:"1px 5px",position:"relative",top:"-1px",verticalAlign:"middle",whiteSpace:"nowrap"});const s=e=>{let{tag:t}=e,n=Object(o.a)(e,["tag"]);return Object(a.d)(t,Object(r.a)({css:{border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1}},n))};s.defaultProps={tag:"span"}},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(159);var r=n(162),o=n(163),a=n(160),i=n(0),c=n(164),s=n(165),l=n(161);const u=6*l.c;c.a.div(e=>{let{isFullWidth:t}=e;return{maxWidth:t?"100%":1160,paddingLeft:u,paddingRight:u,transition:"max-width 200ms cubic-bezier(0.2, 0, 0, 1)",[s.a.smOnly]:{paddingLeft:2*l.c,paddingRight:2*l.c}}});const d=Object(i.forwardRef)((function(e,t){let{align:n="stretch",as:c="div",children:s,growIndexes:u=[],isContiguous:d,isInline:p,isVertical:b,justify:f="flex-start",wrap:h,spacing:g=l.c,stretch:O}=e,m=Object(o.a)(e,["align","as","children","growIndexes","isContiguous","isInline","isVertical","justify","wrap","spacing","stretch"]);const y=g/2,v=i.Children.count(s),j=i.Children.toArray(s).filter(e=>e);return Object(a.d)(c,Object(r.a)({css:{alignItems:n,display:p?"inline-flex":"flex",flexDirection:b?"column":"row",flexWrap:h?"wrap":"nowrap",justifyContent:f,marginBottom:b?-y:null,marginLeft:d||b?null:-y,marginRight:d||b?null:-y,marginTop:b?-y:null,maxWidth:p?"calc(100% + ".concat(2*y,"px)"):null},ref:t},m),j.map((e,t)=>{const n=d?function(e,t){let n;const r=0===e,o=e===t-1;return o&&!r?n={borderTopLeftRadius:0,borderBottomLeftRadius:0}:r&&!o?n={borderTopRightRadius:0,borderBottomRightRadius:0}:r||o||(n={borderRadius:0}),n}(t,v):null,r=d&&t?-1:y,o=d?null:y;return Object(a.d)("div",{key:e.key,css:{flex:O||u.includes(t)?1:null,marginLeft:b?null:r,marginRight:b?null:o,marginTop:b?y:null,marginBottom:b?y:null,minWidth:0,"&:focus-within":{position:"relative"}}},d?Object(i.cloneElement)(e,{style:n}):e)}))}))},201:function(e,t,n){"use strict";var r=n(162),o=n(163),a=n(0),i=n.n(a),c=n(160),s=n(164),l=n(159),u=n(168),d=n(161),p=n(181);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(){const e=Object(u.a)(["to { transform: rotate(1turn); }"]);return h=function(){return e},e}function g(){const e=Object(u.a)(["0%, 80%, 100% { opacity: 0; } 40% { opacity: 1; }"]);return g=function(){return e},e}const O=Object(c.e)(g()),m={default:d.b.N20,dark:d.b.text,primary:d.b.primary,inverted:"white"},y=s.a.div(e=>{let{size:t}=e;return{alignSelf:"center",fontSize:t,lineHeight:1,textAlign:"center",verticalAlign:"middle",display:"inline-flex"}}),v=s.a.span(e=>{let{appearance:t,delay:n=0,isOffset:r}=e;return{animation:"".concat(O," 1s infinite ").concat(n,"ms"),animationTimingFunction:"ease-in-out",backgroundColor:m[t],borderRadius:"1em",display:"inline-block",height:"1em",marginLeft:r?"1em":null,verticalAlign:"top",width:"1em"}}),j=e=>{let{appearance:t,size:n}=e;return i.a.createElement(y,{size:n},i.a.createElement(v,{appearance:t}),i.a.createElement(v,{appearance:t,delay:160,isOffset:!0}),i.a.createElement(v,{appearance:t,delay:320,isOffset:!0}),i.a.createElement(p.a,null,"Loading"))};j.defaultProps={appearance:"default",size:4};const w=Object(c.e)(h()),x=e=>{let{size:t}=e;return{borderRadius:"50%",borderStyle:"solid",borderWidth:t/8,boxSizing:"border-box",height:t,width:t}},S=s.a.div(e=>{let{size:t}=e;return{height:t,width:t,position:"relative"}}),R=s.a.div(e=>{let{color:t,size:n}=e;return f({},x({size:n}),{borderColor:t,opacity:.2,position:"relative"})}),P=s.a.div(e=>{let{color:t,size:n}=e;return f({},x({size:n}),{animation:"".concat(w," 1s linear infinite"),borderColor:"".concat(t," transparent transparent"),left:0,position:"absolute",top:0})}),k=e=>{let{appearance:t,size:n}=e;const r=m[t];return i.a.createElement(S,null,i.a.createElement(R,{color:r,size:n}),i.a.createElement(P,{color:r,size:n}),i.a.createElement(p.a,null,"Loading"))};k.defaultProps={appearance:"default",size:16};var C=n(21),D=n(178),E=n(165),I=n(169);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return W})),n.d(t,"b",(function(){return J})),n.d(t,"c",(function(){return V}));const F={default:{bg:"#fff",border:d.b.N20,focusRing:d.b.primary,text:d.b.text},primary:{bg:d.b.primary,border:d.b.primary,focusRing:null,text:"#fff"},create:{bg:d.b.create,border:d.b.create,focusRing:null,text:"#fff"},danger:{bg:d.b.danger,border:d.b.danger,focusRing:null,text:"#fff"},warning:{bg:d.b.warning,border:d.b.warning,focusRing:null,text:"#fff"}},_={default:{border:d.b.N20,text:d.b.N60},primary:{border:d.b.B.L50,text:d.b.primary},create:{border:d.b.G.L50,text:d.b.create},danger:{border:d.b.R.L50,text:d.b.danger},warning:{border:d.b.Y.L30,text:d.b.warning}},z={default:{text:d.b.N40,textHover:d.b.text},primary:{text:d.b.N40,textHover:d.b.primary},create:{text:null,textHover:null},warning:{text:d.b.N40,textHover:d.b.danger},danger:{text:d.b.danger,textHover:d.b.danger}},T={default:{text:d.b.text},primary:{text:d.b.primary},create:{text:null},warning:{text:d.b.danger},danger:{text:d.b.danger}};function U(e){let{appearance:t,isDisabled:n}=e;const{border:r,text:o}=_[t];return{border:"1px solid",borderColor:r,color:o,fontWeight:"normal",opacity:n?.5:null,":hover, :focus":{backgroundColor:Object(I.a)(r,.1),borderColor:Object(I.b)(r,10)},":active":{color:Object(I.b)(o,10),borderColor:Object(I.b)(r,20),backgroundColor:Object(I.a)(r,.2)}}}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const B={comfortable:"".concat(d.c,"px ").concat(1.5*d.c,"px"),cozy:"2px 6px",cramped:"1px 2px"};function H(e){let t,{appearance:n="default",isActive:r,isBlock:o,isHover:a,isFocus:i,isDisabled:c,isSelected:s,variant:u="bold",spacing:p="comfortable"}=e;const b={appearance:n,isDisabled:c,isActive:r,isHover:a,isFocus:i,isSelected:s};return"subtle"===u?t=function(e){let{appearance:t}=e;const{text:n,textHover:r}=z[t];return{color:n,fontWeight:null,":hover, :focus":{color:r,textDecoration:"underline"}}}(b):"nuance"===u?t=function(e){let{appearance:t,isDisabled:n}=e;const{text:r}=T[t];return{color:r,fontWeight:"normal",":hover, :focus":U({appearance:t,isDisabled:n})}}(b):"bold"===u?t=function(e){let{appearance:t,isDisabled:n,isActive:r,isHover:o,isFocus:a,isSelected:i}=e;const{bg:c,border:s,focusRing:l,text:u}=F[t],p="default"===t?d.b.N10:Object(I.b)(c,12),b=o||a?{borderColor:s,background:c}:null,f=o?M({},b,{boxShadow:"0 1px 2px rgba(0, 0, 0, 0.12)"}):null,h=a&&!n?M({},b,{borderColor:l,boxShadow:"0 0 0 3px ".concat(Object(I.a)(l||c,.2))}):null;return M({backgroundColor:c,backgroundRepeat:"repeat-x",borderColor:s,color:u,fontWeight:"bold"},f,{},h,{},r||i?{background:p,borderColor:s}:null)}(b):"ghost"===u&&(t=U(b)),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},E.b,{cursor:c?"default":"pointer",display:o?"block":"inline-block",opacity:c?.66:null,outline:0,padding:B[p],pointerEvents:c?"none":null,textAlign:"center",touchAction:"manipulation",userSelect:"none",width:o?"100%":null,":hover":{textDecoration:"none"}},t)}const N=Object(a.forwardRef)((function(e,t){const{isDisabled:n,isActive:a,isFocus:i,isHover:s,isSelected:l,focusOrigin:u}=e,d=Object(o.a)(e,["isDisabled","isActive","isFocus","isHover","isSelected","focusOrigin"]),p=H(e);return d.to?Object(c.d)(C.b,Object(r.a)({innerRef:t,css:p},d)):d.href?Object(c.d)("a",Object(r.a)({css:p},d,{ref:t})):Object(c.d)("button",Object(r.a)({type:"button",disabled:n,css:p,ref:t},d))})),W=Object(D.withPseudoState)(N),K=s.a.div({position:"relative"}),q=s.a.div({left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"});const V=Object(a.forwardRef)((function(e,t){let{children:n,indicatorVariant:a,isLoading:i}=e,s=Object(o.a)(e,["children","indicatorVariant","isLoading"]);const l=function(e){return"default"===e?"dark":"inverted"}(s.appearance||"default"),u=i?{visibility:"hidden"}:null,d="spinner"===a;return Object(c.d)(W,Object(r.a)({ref:t,variant:"bold"},s),Object(c.d)(K,null,i?Object(c.d)(q,null,d?Object(c.d)(k,{appearance:l,size:16}):Object(c.d)(j,{appearance:l,size:4})):null,Object(c.d)("span",{css:u},n)))})),J=Object(a.forwardRef)((e,t)=>{let{children:n,icon:a,iconSize:i=16}=e,s=Object(o.a)(e,["children","icon","iconSize"]);return Object(c.d)(W,Object(r.a)({ref:t},s),Object(c.d)("span",{css:{display:"flex",alignItems:"center"}},Object(c.d)(a,{css:n?{height:i,width:i,marginRight:"0.5em"}:null}),n))})},294:function(e,t,n){"use strict";n.r(t);var r=n(159),o=n(163),a=n(160),i=n(189),c=n(0),s=n(162),l=n(161),u=n(194),d=n(201),p=n(167),b=n.n(p),f=n(174),h=n(220),g=n(196);class O extends c.Component{constructor(e){super(e),Object(r.a)(this,"onCancel",()=>{this.props.onChange(this.originalFile),this.setState({changeStatus:this.originalFile?"stored":"empty",dataURI:null,errorMessage:null})}),Object(r.a)(this,"onRemove",()=>{this.setState({changeStatus:"removed",errorMessage:null}),this.props.onChange(null)}),Object(r.a)(this,"onChange",e=>{let{target:{validity:t,files:[n]}}=e;if(!n)return;const{errorMessage:r,onChange:o}=this.props,a={changeStatus:"updated"};t.valid?(n.type.includes("image")?(this.getDataURI(n),a.oldImagePath=this.getImagePath()):this.state.dataURI&&this.setState({dataURI:null,errorMessage:null}),o(n),this.setState(a)):this.setState({errorMessage:r({type:"save"})})}),Object(r.a)(this,"openFileBrowser",()=>{this.inputRef&&this.inputRef.click()}),Object(r.a)(this,"getFile",()=>{const{value:e}=this.props,{changeStatus:t}=this.state,n="removed"===t?this.originalFile:e;return{file:n,type:n&&n.__typename?"server":"client"}}),Object(r.a)(this,"getDataURI",e=>{const{errorMessage:t}=this.props,n=new FileReader;n.readAsDataURL(e),n.onloadstart=()=>{this.setState({isLoading:!0})},n.onerror=e=>{console.error("Error with Cloudinary preview",e),this.setState({errorMessage:t({type:"preview"})})},n.onloadend=e=>{this.setState({isLoading:!1,dataURI:e.target.result})}}),Object(r.a)(this,"getImagePath",()=>{const{dataURI:e}=this.state,{file:t}=this.getFile();return t&&t.mimetype&&t.mimetype.includes("image")?t.publicUrl:e}),Object(r.a)(this,"getInputRef",e=>{this.inputRef=e}),Object(r.a)(this,"renderUploadButton",()=>{const{uploadButtonLabel:e}=this.props,{changeStatus:t,isLoading:n}=this.state;return Object(a.d)(d.c,{onClick:this.openFileBrowser,isLoading:n,variant:"ghost"},e({status:t}))}),Object(r.a)(this,"renderCancelButton",()=>{const{cancelButtonLabel:e}=this.props,{changeStatus:t}=this.state;let n="warning",r=this.onRemove;switch(t){case"removed":n="primary",r=this.onCancel;break;case"updated":r=this.onCancel}return Object(a.d)(d.a,{onClick:r,variant:"subtle",appearance:n},e({status:t}))});const{value:t}=e;this.originalFile=t;const n=this.originalFile?"stored":"empty";this.state={changeStatus:n,dataURI:null,errorMessage:null,isLoading:!1,oldImagePath:null}}render(){const{autoFocus:e,field:t,statusMessage:n,errors:r}=this.props,{changeStatus:o,errorMessage:c}=this.state,{file:s}=this.getFile(),u=this.getImagePath(),d=["removed","updated"].includes(o),p="ks-input-".concat(t.path);return Object(a.d)(i.a,null,Object(a.d)(i.c,{htmlFor:p,field:t,errors:r}),Object(a.d)(i.b,null,s?Object(a.d)(m,null,u?Object(a.d)(v,{src:u,alt:t.path}):null,Object(a.d)(y,null,Object(a.d)(g.a,{style:{marginBottom:l.c}},this.renderUploadButton(),this.renderCancelButton()),c?Object(a.d)(w,null,c):Object(a.d)(g.a,{isInline:!0,growIndexes:[0]},Object(a.d)(j,{href:s.publicUrl},s.filename||s.name),d?Object(a.d)(S,{status:o},n({status:o})):null))):this.renderUploadButton(),Object(a.d)(f.a,{autoComplete:"off",autoFocus:e,id:p,innerRef:this.getInputRef,name:t.path,onChange:this.onChange,type:"file"})))}}Object(r.a)(O,"propTypes",{cancelButtonLabel:b.a.func.isRequired,disabled:b.a.bool,errorMessage:b.a.func.isRequired,field:b.a.object,onChange:b.a.func.isRequired,statusMessage:b.a.func.isRequired,uploadButtonLabel:b.a.func.isRequired}),Object(r.a)(O,"defaultProps",{cancelButtonLabel:function(e){let{status:t}=e;switch(t){case"stored":return"Remove File";case"removed":return"Undo Remove";case"updated":default:return"Cancel"}},errorMessage:function(e){let{type:t}=e;switch(t){case"save":return"Something went wrong, please reload and try again.";case"preview":return"Something went wrong, please try again."}},statusMessage:function(e){let{status:t}=e;switch(t){case"removed":return"save to remove";case"updated":return"save to upload"}},uploadButtonLabel:function(e){let{status:t}=e;return"empty"===t?"Upload File":"Change File"}});const m=e=>Object(a.d)("div",Object(s.a)({css:{alignItems:"flex-start",display:"flex"}},e)),y=e=>Object(a.d)("div",Object(s.a)({css:{flex:1,minWidth:0}},e)),v=e=>Object(a.d)("div",{css:{backgroundColor:"white",borderRadius:l.a,border:"1px solid ".concat(l.b.N20),flexShrink:0,lineHeight:0,marginRight:l.c,padding:4,position:"relative",textAlign:"center",width:130}},Object(a.d)("img",Object(s.a)({css:{height:"auto",maxWidth:"100%"}},e))),j=e=>Object(a.d)(h.a,Object(s.a)({crop:"right"},e)),w=e=>{let{children:t}=e,n=Object(o.a)(e,["children"]);return Object(a.d)(h.a,Object(s.a)({style:{backgroundColor:l.b.R.L80,borderColor:"transparent",color:l.b.R.D20,display:"inline-flex"}},n),Object(a.d)(u.a,{css:{marginRight:l.c}}),t)},x={default:"primary",removed:"danger",updated:"create"},S=e=>{let{status:t="default"}=e,n=Object(o.a)(e,["status"]);const r=x[t];return Object(a.d)(h.a,Object(s.a)({appearance:r},n))};t.default=O}}]);